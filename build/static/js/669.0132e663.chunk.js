"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[669],{6669:(e,n,l)=>{l.r(n),l.d(n,{default:()=>j});var i=l(5043),s=l(3519),t=l(8628),c=l(1072),o=l(8602),r=l(4282),d=l(3814),a=l(4196),m=l(5284),h=l(7936),x=l(579);const j=()=>{const[e,n]=(0,i.useState)([]),[l,j]=(0,i.useState)({num_cliente:"",cod_tipcliente:"01",num_doccliente:"",nom_cliente:"",num_telefono:"",des_email:"",des_direccion:"",mto_credito:"0"}),[u,A]=(0,i.useState)(!1),[_,p]=(0,i.useState)(!1),[b,C]=(0,i.useState)(!1),[y,f]=(0,i.useState)(null);(0,i.useEffect)((()=>{v()}),[]);const v=async()=>{const e=await(0,h.ys)();n(e)},N=e=>{const{name:n,value:i}=e.target;"nom_cliente"===n&&i.length>100||("mto_credito"!==n||/^\d{1,6}(\.\d{1,2})?$/.test(i))&&j({...l,[n]:i})},g=()=>{A(!1),j({num_cliente:"",cod_tipcliente:"01",num_doccliente:"",nom_cliente:"",num_telefono:"",des_email:"",des_direccion:"",mto_credito:"0"})},E=()=>{p(!1),j({num_cliente:"",cod_tipcliente:"01",num_doccliente:"",nom_cliente:"",num_telefono:"",des_email:"",des_direccion:"",mto_credito:"0"})},G=()=>C(!1);return(0,x.jsxs)(s.A,{fluid:!0,className:"p-0",children:[(0,x.jsx)(t.A,{children:(0,x.jsxs)(t.A.Body,{className:"p-3",children:[(0,x.jsx)(t.A.Title,{className:"mb-3",children:"Clientes"}),(0,x.jsx)(c.A,{className:"mb-3",children:(0,x.jsxs)(o.A,{xs:12,md:6,className:"d-flex align-items-center justify-content-start mb-2 mb-md-0",children:[(0,x.jsx)(r.A,{id:"agregarCliente",className:"mr-2",onClick:()=>A(!0),title:"Agregar",children:(0,x.jsx)("i",{className:"fa fa-plus"})}),(0,x.jsx)(d.A.Group,{className:"flex-grow-1",children:(0,x.jsx)(d.A.Control,{type:"text",placeholder:"Buscar",id:"txtBuscar",className:"rounded"})}),(0,x.jsx)(r.A,{type:"button",className:"btn btn-secondary ml-2",title:"Filtrar",children:(0,x.jsx)("i",{className:"fa fa-search"})})]})}),(0,x.jsx)("div",{className:"table-responsive",id:"tabCliente",children:(0,x.jsxs)(a.A,{children:[(0,x.jsx)("caption",{children:"Datatable"}),(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Opciones"}),(0,x.jsx)("th",{children:"Nombre"}),(0,x.jsx)("th",{children:"Correo Electr\xf3nico"}),(0,x.jsx)("th",{children:"Documento"}),(0,x.jsx)("th",{children:"Tel\xe9fono"}),(0,x.jsx)("th",{children:"Direcci\xf3n"}),(0,x.jsx)("th",{children:"Cr\xe9dito"})]})}),(0,x.jsx)("tbody",{children:e.map(((e,n)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:n+1}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"btn-group",role:"group",children:[(0,x.jsxs)(r.A,{type:"button",className:"btn btn-secondary btn-sm mb-1",title:"Editar",onClick:()=>(e=>{f(e),j({num_cliente:e.num_cliente,cod_tipcliente:e.cod_tipcliente,num_doccliente:e.num_doccliente,nom_cliente:e.nom_cliente,num_telefono:e.num_telefono,des_email:e.des_email,des_direccion:e.des_direccion,mto_credito:e.mto_credito}),p(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-pencil"})]}),(0,x.jsxs)(r.A,{type:"button",className:"btn btn-danger btn-sm mb-1 ml-1",title:"Eliminar",onClick:()=>(e=>{f(e),C(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-trash-o"})]})]})}),(0,x.jsx)("td",{children:e.nom_cliente}),(0,x.jsx)("td",{children:e.des_email}),(0,x.jsx)("td",{children:e.num_doccliente}),(0,x.jsx)("td",{children:e.num_telefono}),(0,x.jsx)("td",{children:e.des_direccion}),(0,x.jsx)("td",{children:e.mto_credito})]},n)))})]})})]})}),(0,x.jsxs)(m.A,{show:u,onHide:g,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Registrar Cliente"})}),(0,x.jsxs)(d.A,{id:"formRegistro",autoComplete:"off",onSubmit:async e=>{e.preventDefault();const n={...l,mto_credito:parseFloat(l.mto_credito)};await(0,h.MW)(n),v(),g()},children:[(0,x.jsxs)(m.A.Body,{children:[(0,x.jsxs)(c.A,{children:[(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"cod_tipcliente",children:[(0,x.jsx)(d.A.Label,{children:"Tipo Cliente"}),(0,x.jsxs)(d.A.Control,{as:"select",name:"cod_tipcliente",value:l.cod_tipcliente,onChange:N,required:!0,children:[(0,x.jsx)("option",{value:"01",children:"Persona Natural"}),(0,x.jsx)("option",{value:"02",children:"Empresa"})]})]})}),(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_doccliente",children:[(0,x.jsx)(d.A.Label,{children:"N\xfamero de Documento"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_doccliente",value:l.num_doccliente,onChange:N})]})})]}),(0,x.jsxs)(c.A,{children:[(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"nom_cliente",children:[(0,x.jsx)(d.A.Label,{children:"Nombre"}),(0,x.jsx)(d.A.Control,{type:"text",name:"nom_cliente",value:l.nom_cliente,onChange:N,required:!0})]})}),(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_telefono",children:[(0,x.jsx)(d.A.Label,{children:"Tel\xe9fono"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_telefono",value:l.num_telefono,onChange:N})]})})]}),(0,x.jsxs)(c.A,{children:[(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_email",children:[(0,x.jsx)(d.A.Label,{children:"Email"}),(0,x.jsx)(d.A.Control,{type:"email",name:"des_email",value:l.des_email,onChange:N})]})}),(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_direccion",children:[(0,x.jsx)(d.A.Label,{children:"Direcci\xf3n"}),(0,x.jsx)(d.A.Control,{type:"text",name:"des_direccion",value:l.des_direccion,onChange:N})]})})]}),(0,x.jsx)(c.A,{children:(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"mto_credito",children:[(0,x.jsx)(d.A.Label,{children:"Cr\xe9dito"}),(0,x.jsx)(d.A.Control,{type:"number",name:"mto_credito",value:l.mto_credito,onChange:N,required:!0})]})})})]}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(r.A,{type:"submit",variant:"outline-primary",children:" Registrar "}),(0,x.jsx)(r.A,{variant:"outline-secondary",onClick:g,children:" Cancelar "})]})]})]}),(0,x.jsxs)(m.A,{show:_,onHide:E,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Editar Cliente"})}),(0,x.jsxs)(d.A,{id:"formEdicion",autoComplete:"off",onSubmit:async e=>{e.preventDefault();const n={...l,mto_credito:parseFloat(l.mto_credito)};await(0,h.GP)(y.num_cliente,n),v(),E()},children:[(0,x.jsxs)(m.A.Body,{children:[(0,x.jsxs)(c.A,{children:[(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"cod_tipcliente",children:[(0,x.jsx)(d.A.Label,{children:"Tipo Cliente"}),(0,x.jsxs)(d.A.Control,{as:"select",name:"cod_tipcliente",value:l.cod_tipcliente,onChange:N,required:!0,children:[(0,x.jsx)("option",{value:"01",children:"Persona Natural"}),(0,x.jsx)("option",{value:"02",children:"Empresa"})]})]})}),(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_doccliente",children:[(0,x.jsx)(d.A.Label,{children:"N\xfamero de Documento"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_doccliente",value:l.num_doccliente,onChange:N,required:!0})]})})]}),(0,x.jsxs)(c.A,{children:[(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"nom_cliente",children:[(0,x.jsx)(d.A.Label,{children:"Nombre"}),(0,x.jsx)(d.A.Control,{type:"text",name:"nom_cliente",value:l.nom_cliente,onChange:N,required:!0})]})}),(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_telefono",children:[(0,x.jsx)(d.A.Label,{children:"Tel\xe9fono"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_telefono",value:l.num_telefono,onChange:N,required:!0})]})})]}),(0,x.jsxs)(c.A,{children:[(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_email",children:[(0,x.jsx)(d.A.Label,{children:"Email"}),(0,x.jsx)(d.A.Control,{type:"email",name:"des_email",value:l.des_email,onChange:N,required:!0})]})}),(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_direccion",children:[(0,x.jsx)(d.A.Label,{children:"Direcci\xf3n"}),(0,x.jsx)(d.A.Control,{type:"text",name:"des_direccion",value:l.des_direccion,onChange:N,required:!0})]})})]}),(0,x.jsx)(c.A,{children:(0,x.jsx)(o.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"mto_credito",children:[(0,x.jsx)(d.A.Label,{children:"Cr\xe9dito"}),(0,x.jsx)(d.A.Control,{type:"text",name:"mto_credito",value:l.mto_credito,onChange:N,required:!0})]})})})]}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(r.A,{type:"submit",variant:"outline-primary",children:" Guardar Cambios "}),(0,x.jsx)(r.A,{variant:"outline-secondary",onClick:E,children:" Cancelar "})]})]})]}),(0,x.jsxs)(m.A,{show:b,onHide:G,children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Eliminar Cliente"})}),(0,x.jsxs)(m.A.Body,{children:[" \xbfEst\xe1s seguro de que deseas eliminar al cliente:"," "," ",(0,x.jsx)("strong",{children:y&&y.nom_cliente}),"? "]}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(r.A,{variant:"danger",onClick:async()=>{await(0,h.OE)(y.num_cliente),v(),C(!1)},children:" Eliminar "}),(0,x.jsx)(r.A,{variant:"secondary",onClick:G,children:" Cancelar "})]})]})]})}},7936:(e,n,l)=>{l.d(n,{GP:()=>c,MW:()=>t,OE:()=>o,ys:()=>s});var i=l(1894);const s=async()=>(0,i.A)("/api/v1/ventas/clientes"),t=async e=>(0,i.A)("/api/v1/ventas/clientes","POST",e),c=async(e,n)=>(0,i.A)(`/api/v1/ventas/clientes/${e}`,"PUT",n),o=async e=>(0,i.A)(`/api/v1/ventas/clientes/${e}`,"DELETE")}}]);
//# sourceMappingURL=669.0132e663.chunk.js.map