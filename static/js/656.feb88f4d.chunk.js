"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[656],{6656:(e,r,s)=>{s.r(r),s.d(r,{default:()=>h});var n=s(5043),l=s(3519),c=s(8628),o=s(1072),t=s(8602),d=s(4282),i=s(3814),a=s(4196),m=s(5284),u=s(1894);var x=s(579);const h=()=>{const[e,r]=(0,n.useState)([]),[s,h]=(0,n.useState)({cod_cpe:"",num_serie:"",num_cpe:"",num_item:"",cod_rubro:"",mto_rubro:"",des_rubro:""}),[j,A]=(0,n.useState)(!1),[b,p]=(0,n.useState)(!1),[_,C]=(0,n.useState)(!1),[y,g]=(0,n.useState)(null);(0,n.useEffect)((()=>{v()}),[]);const v=async()=>{const e=await(async()=>(0,u.A)("/api/v1/ventas/cpedet"))();r(e)},N=e=>{const{name:r,value:n}=e.target;h({...s,[r]:n})},f=()=>{A(!1),h({cod_cpe:"",num_serie:"",num_cpe:"",num_item:"",cod_rubro:"",mto_rubro:"",des_rubro:""})},E=()=>{p(!1),h({cod_cpe:"",num_serie:"",num_cpe:"",num_item:"",cod_rubro:"",mto_rubro:"",des_rubro:""})},G=()=>C(!1);return(0,x.jsxs)(l.A,{fluid:!0,className:"p-0",children:[(0,x.jsx)(c.A,{children:(0,x.jsxs)(c.A.Body,{className:"p-3",children:[(0,x.jsx)(c.A.Title,{className:"mb-3",children:"Detalles de Comprobantes de Pago Electr\xf3nicos (CPE)"}),(0,x.jsx)(o.A,{className:"mb-3",children:(0,x.jsxs)(t.A,{xs:12,md:6,className:"d-flex align-items-center justify-content-start mb-2 mb-md-0",children:[(0,x.jsx)(d.A,{id:"agregarCpeDet",className:"mr-2",onClick:()=>A(!0),title:"Agregar",children:(0,x.jsx)("i",{className:"fa fa-plus"})}),(0,x.jsx)(i.A.Group,{className:"flex-grow-1",children:(0,x.jsx)(i.A.Control,{type:"text",placeholder:"Buscar",id:"txtBuscar",className:"rounded"})}),(0,x.jsx)(d.A,{type:"button",className:"btn btn-secondary ml-2",title:"Filtrar",children:(0,x.jsx)("i",{className:"fa fa-search"})})]})}),(0,x.jsx)("div",{className:"table-responsive",id:"tabCpeDet",children:(0,x.jsxs)(a.A,{children:[(0,x.jsx)("caption",{children:"Datatable"}),(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Opciones"}),(0,x.jsx)("th",{children:"C\xf3digo"}),(0,x.jsx)("th",{children:"Serie"}),(0,x.jsx)("th",{children:"N\xfamero"}),(0,x.jsx)("th",{children:"\xcdtem"}),(0,x.jsx)("th",{children:"Rubro"}),(0,x.jsx)("th",{children:"Monto Rubro"}),(0,x.jsx)("th",{children:"Descripci\xf3n"})]})}),(0,x.jsx)("tbody",{children:e.map(((e,r)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:r+1}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"btn-group",role:"group",children:[(0,x.jsxs)(d.A,{type:"button",className:"btn btn-secondary btn-sm mb-1",title:"Editar",onClick:()=>(e=>{g(e),h({cod_cpe:e.cod_cpe,num_serie:e.num_serie,num_cpe:e.num_cpe,num_item:e.num_item,cod_rubro:e.cod_rubro,mto_rubro:e.mto_rubro,des_rubro:e.des_rubro}),p(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-pencil"})]}),(0,x.jsxs)(d.A,{type:"button",className:"btn btn-danger btn-sm mb-1 ml-1",title:"Eliminar",onClick:()=>(e=>{g(e),C(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-trash-o"})]})]})}),(0,x.jsx)("td",{children:e.cod_cpe}),(0,x.jsx)("td",{children:e.num_serie}),(0,x.jsx)("td",{children:e.num_cpe}),(0,x.jsx)("td",{children:e.num_item}),(0,x.jsx)("td",{children:e.cod_rubro}),(0,x.jsx)("td",{children:e.mto_rubro}),(0,x.jsx)("td",{children:e.des_rubro})]},r)))})]})})]})}),(0,x.jsxs)(m.A,{show:j,onHide:f,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Registrar CPE Detalle"})}),(0,x.jsxs)(i.A,{id:"formRegistro",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async e=>(0,u.A)("/api/v1/ventas/cpedet","POST",e))(s),v(),f()},children:[(0,x.jsxs)(m.A.Body,{children:[(0,x.jsxs)(o.A,{children:[(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"cod_cpe",children:[(0,x.jsx)(i.A.Label,{children:"C\xf3digo CPE"}),(0,x.jsx)(i.A.Control,{type:"text",name:"cod_cpe",value:s.cod_cpe,onChange:N,required:!0})]})}),(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"num_serie",children:[(0,x.jsx)(i.A.Label,{children:"Serie"}),(0,x.jsx)(i.A.Control,{type:"text",name:"num_serie",value:s.num_serie,onChange:N,required:!0})]})})]}),(0,x.jsxs)(o.A,{children:[(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"num_cpe",children:[(0,x.jsx)(i.A.Label,{children:"N\xfamero de CPE"}),(0,x.jsx)(i.A.Control,{type:"text",name:"num_cpe",value:s.num_cpe,onChange:N,required:!0})]})}),(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"num_item",children:[(0,x.jsx)(i.A.Label,{children:"N\xfamero de \xcdtem"}),(0,x.jsx)(i.A.Control,{type:"text",name:"num_item",value:s.num_item,onChange:N,required:!0})]})})]}),(0,x.jsxs)(o.A,{children:[(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"cod_rubro",children:[(0,x.jsx)(i.A.Label,{children:"C\xf3digo de Rubro"}),(0,x.jsx)(i.A.Control,{type:"text",name:"cod_rubro",value:s.cod_rubro,onChange:N,required:!0})]})}),(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"mto_rubro",children:[(0,x.jsx)(i.A.Label,{children:"Monto de Rubro"}),(0,x.jsx)(i.A.Control,{type:"text",name:"mto_rubro",value:s.mto_rubro,onChange:N,required:!0})]})})]}),(0,x.jsx)(o.A,{children:(0,x.jsx)(t.A,{md:12,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"des_rubro",children:[(0,x.jsx)(i.A.Label,{children:"Descripci\xf3n de Rubro"}),(0,x.jsx)(i.A.Control,{type:"text",name:"des_rubro",value:s.des_rubro,onChange:N})]})})})]}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(d.A,{type:"submit",variant:"outline-primary",children:"Registrar"}),(0,x.jsx)(d.A,{variant:"outline-secondary",onClick:f,children:"Cancelar"})]})]})]}),(0,x.jsxs)(m.A,{show:b,onHide:E,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Editar CPE Detalle"})}),(0,x.jsxs)(i.A,{id:"formEdicion",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async(e,r)=>(0,u.A)(`/api/v1/ventas/cpedet/${e}`,"PUT",r))(y.num_item,s),v(),E()},children:[(0,x.jsxs)(m.A.Body,{children:[(0,x.jsxs)(o.A,{children:[(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"cod_cpe",children:[(0,x.jsx)(i.A.Label,{children:"C\xf3digo CPE"}),(0,x.jsx)(i.A.Control,{type:"text",name:"cod_cpe",value:s.cod_cpe,onChange:N,required:!0})]})}),(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"num_serie",children:[(0,x.jsx)(i.A.Label,{children:"Serie"}),(0,x.jsx)(i.A.Control,{type:"text",name:"num_serie",value:s.num_serie,onChange:N,required:!0})]})})]}),(0,x.jsxs)(o.A,{children:[(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"num_cpe",children:[(0,x.jsx)(i.A.Label,{children:"N\xfamero de CPE"}),(0,x.jsx)(i.A.Control,{type:"text",name:"num_cpe",value:s.num_cpe,onChange:N,required:!0})]})}),(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"num_item",children:[(0,x.jsx)(i.A.Label,{children:"N\xfamero de \xcdtem"}),(0,x.jsx)(i.A.Control,{type:"text",name:"num_item",value:s.num_item,onChange:N,required:!0})]})})]}),(0,x.jsxs)(o.A,{children:[(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"cod_rubro",children:[(0,x.jsx)(i.A.Label,{children:"C\xf3digo de Rubro"}),(0,x.jsx)(i.A.Control,{type:"text",name:"cod_rubro",value:s.cod_rubro,onChange:N,required:!0})]})}),(0,x.jsx)(t.A,{md:6,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"mto_rubro",children:[(0,x.jsx)(i.A.Label,{children:"Monto de Rubro"}),(0,x.jsx)(i.A.Control,{type:"text",name:"mto_rubro",value:s.mto_rubro,onChange:N,required:!0})]})})]}),(0,x.jsx)(o.A,{children:(0,x.jsx)(t.A,{md:12,className:"mb-3",children:(0,x.jsxs)(i.A.Group,{controlId:"des_rubro",children:[(0,x.jsx)(i.A.Label,{children:"Descripci\xf3n de Rubro"}),(0,x.jsx)(i.A.Control,{type:"text",name:"des_rubro",value:s.des_rubro,onChange:N})]})})})]}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(d.A,{type:"submit",variant:"outline-primary",children:"Guardar Cambios"}),(0,x.jsx)(d.A,{variant:"outline-secondary",onClick:E,children:"Cancelar"})]})]})]}),(0,x.jsxs)(m.A,{show:_,onHide:G,children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Eliminar CPE Detalle"})}),(0,x.jsxs)(m.A.Body,{children:[" \xbfEst\xe1s seguro de que deseas eliminar el CPE Detalle:"," "," ",(0,x.jsx)("strong",{children:y&&y.cod_cpe}),"? "]}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(d.A,{variant:"danger",onClick:async()=>{await(async e=>(0,u.A)(`/api/v1/ventas/cpedet/${e}`,"DELETE"))(y.num_item),v(),C(!1)},children:"Eliminar"}),(0,x.jsx)(d.A,{variant:"secondary",onClick:G,children:"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=656.feb88f4d.chunk.js.map