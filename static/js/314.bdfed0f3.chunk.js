"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[314],{6314:(e,o,n)=>{n.r(o),n.d(o,{default:()=>p});var t=n(5043),c=n(3519),s=n(8628),l=n(1072),r=n(8602),a=n(4282),d=n(3814),i=n(4196),m=n(5284),x=n(1894);var h=n(579);const p=()=>{const[e,o]=(0,t.useState)([]),[n,p]=(0,t.useState)({cod_cpe:"",num_serie:"",num_cpe:"",fec_emision:"",cod_tipdocrec:"",num_docrecep:"",des_nomrecep:"",cod_moneda:"",mto_tipocambio:"",mto_totalvta:"",mto_totaligv:"",mto_imptotal:""}),[j,A]=(0,t.useState)(!1),[u,_]=(0,t.useState)(!1),[b,C]=(0,t.useState)(!1),[v,g]=(0,t.useState)(null);(0,t.useEffect)((()=>{y()}),[]);const y=async()=>{const e=await(async()=>(0,x.A)("/api/v1/ventas/cpe"))();o(e)},N=e=>{const{name:o,value:t}=e.target;p({...n,[o]:t})},f=()=>{A(!1),p({cod_cpe:"",num_serie:"",num_cpe:"",fec_emision:"",cod_tipdocrec:"",num_docrecep:"",des_nomrecep:"",cod_moneda:"",mto_tipocambio:"",mto_totalvta:"",mto_totaligv:"",mto_imptotal:""})},G=()=>{_(!1),p({cod_cpe:"",num_serie:"",num_cpe:"",fec_emision:"",cod_tipdocrec:"",num_docrecep:"",des_nomrecep:"",cod_moneda:"",mto_tipocambio:"",mto_totalvta:"",mto_totaligv:"",mto_imptotal:""})},I=()=>C(!1);return(0,h.jsxs)(c.A,{fluid:!0,className:"p-0",children:[(0,h.jsx)(s.A,{children:(0,h.jsxs)(s.A.Body,{className:"p-3",children:[(0,h.jsx)(s.A.Title,{className:"mb-3",children:"Comprobantes de Pago Electr\xf3nicos (CPE)"}),(0,h.jsx)(l.A,{className:"mb-3",children:(0,h.jsxs)(r.A,{xs:12,md:6,className:"d-flex align-items-center justify-content-start mb-2 mb-md-0",children:[(0,h.jsx)(a.A,{id:"agregarCpe",className:"mr-2",onClick:()=>A(!0),title:"Agregar",children:(0,h.jsx)("i",{className:"fa fa-plus"})}),(0,h.jsx)(d.A.Group,{className:"flex-grow-1",children:(0,h.jsx)(d.A.Control,{type:"text",placeholder:"Buscar",id:"txtBuscar",className:"rounded"})}),(0,h.jsx)(a.A,{type:"button",className:"btn btn-secondary ml-2",title:"Filtrar",children:(0,h.jsx)("i",{className:"fa fa-search"})})]})}),(0,h.jsx)("div",{className:"table-responsive",id:"tabCpe",children:(0,h.jsxs)(i.A,{children:[(0,h.jsx)("caption",{children:"Datatable"}),(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"#"}),(0,h.jsx)("th",{children:"Opciones"}),(0,h.jsx)("th",{children:"C\xf3digo"}),(0,h.jsx)("th",{children:"Serie"}),(0,h.jsx)("th",{children:"N\xfamero"}),(0,h.jsx)("th",{children:"Fecha de Emisi\xf3n"}),(0,h.jsx)("th",{children:"Tipo Documento Receptor"}),(0,h.jsx)("th",{children:"Nombre del Receptor"}),(0,h.jsx)("th",{children:"Moneda"}),(0,h.jsx)("th",{children:"Total Venta"})]})}),(0,h.jsx)("tbody",{children:e.map(((e,o)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:o+1}),(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"btn-group",role:"group",children:[(0,h.jsxs)(a.A,{type:"button",className:"btn btn-secondary btn-sm mb-1",title:"Editar",onClick:()=>(e=>{g(e),p({cod_cpe:e.cod_cpe,num_serie:e.num_serie,num_cpe:e.num_cpe,fec_emision:e.fec_emision,cod_tipdocrec:e.cod_tipdocrec,num_docrecep:e.num_docrecep,des_nomrecep:e.des_nomrecep,cod_moneda:e.cod_moneda,mto_tipocambio:e.mto_tipocambio,mto_totalvta:e.mto_totalvta,mto_totaligv:e.mto_totaligv,mto_imptotal:e.mto_imptotal}),_(!0)})(e),children:[" ",(0,h.jsx)("i",{className:"fa fa-pencil"})]}),(0,h.jsxs)(a.A,{type:"button",className:"btn btn-danger btn-sm mb-1 ml-1",title:"Eliminar",onClick:()=>(e=>{g(e),C(!0)})(e),children:[" ",(0,h.jsx)("i",{className:"fa fa-trash-o"})]})]})}),(0,h.jsx)("td",{children:e.cod_cpe}),(0,h.jsx)("td",{children:e.num_serie}),(0,h.jsx)("td",{children:e.num_cpe}),(0,h.jsx)("td",{children:e.fec_emision}),(0,h.jsx)("td",{children:e.cod_tipdocrec}),(0,h.jsx)("td",{children:e.des_nomrecep}),(0,h.jsx)("td",{children:e.cod_moneda}),(0,h.jsx)("td",{children:e.mto_totalvta})]},o)))})]})})]})}),(0,h.jsxs)(m.A,{show:j,onHide:f,size:"lg",children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsx)(m.A.Title,{children:"Registrar CPE"})}),(0,h.jsxs)(d.A,{id:"formRegistro",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async e=>(0,x.A)("/api/v1/ventas/cpe","POST",e))(n),y(),f()},children:[(0,h.jsxs)(m.A.Body,{children:[(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"cod_cpe",children:[(0,h.jsx)(d.A.Label,{children:"C\xf3digo CPE"}),(0,h.jsx)(d.A.Control,{type:"text",name:"cod_cpe",value:n.cod_cpe,onChange:N,required:!0})]})}),(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"num_serie",children:[(0,h.jsx)(d.A.Label,{children:"Serie"}),(0,h.jsx)(d.A.Control,{type:"text",name:"num_serie",value:n.num_serie,onChange:N,required:!0})]})})]}),(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"num_cpe",children:[(0,h.jsx)(d.A.Label,{children:"N\xfamero de CPE"}),(0,h.jsx)(d.A.Control,{type:"text",name:"num_cpe",value:n.num_cpe,onChange:N,required:!0})]})}),(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"fec_emision",children:[(0,h.jsx)(d.A.Label,{children:"Fecha de Emisi\xf3n"}),(0,h.jsx)(d.A.Control,{type:"date",name:"fec_emision",value:n.fec_emision,onChange:N,required:!0})]})})]}),(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"cod_tipdocrec",children:[(0,h.jsx)(d.A.Label,{children:"Tipo Documento Receptor                 "}),(0,h.jsx)(d.A.Control,{type:"text",name:"cod_tipdocrec",value:n.cod_tipdocrec,onChange:N})]})}),(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"num_docrecep",children:[(0,h.jsx)(d.A.Label,{children:"N\xfamero de Documento del Receptor"}),(0,h.jsx)(d.A.Control,{type:"text",name:"num_docrecep",value:n.num_docrecep,onChange:N})]})})]}),(0,h.jsx)(l.A,{children:(0,h.jsx)(r.A,{md:12,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"des_nomrecep",children:[(0,h.jsx)(d.A.Label,{children:"Nombre del Receptor"}),(0,h.jsx)(d.A.Control,{type:"text",name:"des_nomrecep",value:n.des_nomrecep,onChange:N})]})})}),(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"cod_moneda",children:[(0,h.jsx)(d.A.Label,{children:"Moneda"}),(0,h.jsx)(d.A.Control,{type:"text",name:"cod_moneda",value:n.cod_moneda,onChange:N})]})}),(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"mto_tipocambio",children:[(0,h.jsx)(d.A.Label,{children:"Tipo de Cambio"}),(0,h.jsx)(d.A.Control,{type:"text",name:"mto_tipocambio",value:n.mto_tipocambio,onChange:N})]})})]}),(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:4,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"mto_totalvta",children:[(0,h.jsx)(d.A.Label,{children:"Total Venta"}),(0,h.jsx)(d.A.Control,{type:"text",name:"mto_totalvta",value:n.mto_totalvta,onChange:N})]})}),(0,h.jsx)(r.A,{md:4,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"mto_totaligv",children:[(0,h.jsx)(d.A.Label,{children:"Total IGV"}),(0,h.jsx)(d.A.Control,{type:"text",name:"mto_totaligv",value:n.mto_totaligv,onChange:N})]})}),(0,h.jsx)(r.A,{md:4,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"mto_imptotal",children:[(0,h.jsx)(d.A.Label,{children:"Importe Total"}),(0,h.jsx)(d.A.Control,{type:"text",name:"mto_imptotal",value:n.mto_imptotal,onChange:N})]})})]})]}),(0,h.jsxs)(m.A.Footer,{children:[(0,h.jsx)(a.A,{type:"submit",variant:"outline-primary",children:"Registrar"}),(0,h.jsx)(a.A,{variant:"outline-secondary",onClick:f,children:"Cancelar"})]})]})]}),(0,h.jsxs)(m.A,{show:u,onHide:G,size:"lg",children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsx)(m.A.Title,{children:"Editar CPE"})}),(0,h.jsxs)(d.A,{id:"formEdicion",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async(e,o)=>(0,x.A)(`/api/v1/ventas/cpe/${e}`,"PUT",o))(v.num_cpe,n),y(),G()},children:[(0,h.jsxs)(m.A.Body,{children:[(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"cod_cpe",children:[(0,h.jsx)(d.A.Label,{children:"C\xf3digo CPE"}),(0,h.jsx)(d.A.Control,{type:"text",name:"cod_cpe",value:n.cod_cpe,onChange:N,required:!0})]})}),(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"num_serie",children:[(0,h.jsx)(d.A.Label,{children:"Serie"}),(0,h.jsx)(d.A.Control,{type:"text",name:"num_serie",value:n.num_serie,onChange:N,required:!0})]})})]}),(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"num_cpe",children:[(0,h.jsx)(d.A.Label,{children:"N\xfamero de CPE"}),(0,h.jsx)(d.A.Control,{type:"text",name:"num_cpe",value:n.num_cpe,onChange:N,required:!0})]})}),(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"fec_emision",children:[(0,h.jsx)(d.A.Label,{children:"Fecha de Emisi\xf3n"}),(0,h.jsx)(d.A.Control,{type:"date",name:"fec_emision",value:n.fec_emision,onChange:N,required:!0})]})})]}),(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"cod_tipdocrec",children:[(0,h.jsx)(d.A.Label,{children:"Tipo Documento Receptor"}),(0,h.jsx)(d.A.Control,{type:"text",name:"cod_tipdocrec",value:n.cod_tipdocrec,onChange:N})]})}),(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"num_docrecep",children:[(0,h.jsx)(d.A.Label,{children:"N\xfamero de Documento del Receptor"}),(0,h.jsx)(d.A.Control,{type:"text",name:"num_docrecep",value:n.num_docrecep,onChange:N})]})})]}),(0,h.jsx)(l.A,{children:(0,h.jsx)(r.A,{md:12,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"des_nomrecep",children:[(0,h.jsx)(d.A.Label,{children:"Nombre del Receptor"}),(0,h.jsx)(d.A.Control,{type:"text",name:"des_nomrecep",value:n.des_nomrecep,onChange:N})]})})}),(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"cod_moneda",children:[(0,h.jsx)(d.A.Label,{children:"Moneda"}),(0,h.jsx)(d.A.Control,{type:"text",name:"cod_moneda",value:n.cod_moneda,onChange:N})]})}),(0,h.jsx)(r.A,{md:6,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"mto_tipocambio",children:[(0,h.jsx)(d.A.Label,{children:"Tipo de Cambio"}),(0,h.jsx)(d.A.Control,{type:"text",name:"mto_tipocambio",value:n.mto_tipocambio,onChange:N})]})})]}),(0,h.jsxs)(l.A,{children:[(0,h.jsx)(r.A,{md:4,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"mto_totalvta",children:[(0,h.jsx)(d.A.Label,{children:"Total Venta"}),(0,h.jsx)(d.A.Control,{type:"text",name:"mto_totalvta",value:n.mto_totalvta,onChange:N})]})}),(0,h.jsx)(r.A,{md:4,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"mto_totaligv",children:[(0,h.jsx)(d.A.Label,{children:"Total IGV"}),(0,h.jsx)(d.A.Control,{type:"text",name:"mto_totaligv",value:n.mto_totaligv,onChange:N})]})}),(0,h.jsx)(r.A,{md:4,className:"mb-3",children:(0,h.jsxs)(d.A.Group,{controlId:"mto_imptotal",children:[(0,h.jsx)(d.A.Label,{children:"Importe Total"}),(0,h.jsx)(d.A.Control,{type:"text",name:"mto_imptotal",value:n.mto_imptotal,onChange:N})]})})]})]}),(0,h.jsxs)(m.A.Footer,{children:[(0,h.jsx)(a.A,{type:"submit",variant:"outline-primary",children:"Guardar Cambios"}),(0,h.jsx)(a.A,{variant:"outline-secondary",onClick:G,children:"Cancelar"})]})]})]}),(0,h.jsxs)(m.A,{show:b,onHide:I,children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsx)(m.A.Title,{children:"Eliminar CPE"})}),(0,h.jsxs)(m.A.Body,{children:[" \xbfEst\xe1s seguro de que deseas eliminar el CPE:"," "," ",(0,h.jsx)("strong",{children:v&&v.cod_cpe}),"? "]}),(0,h.jsxs)(m.A.Footer,{children:[(0,h.jsx)(a.A,{variant:"danger",onClick:async()=>{await(async e=>(0,x.A)(`/api/v1/ventas/cpe/${e}`,"DELETE"))(v.num_cpe),y(),C(!1)},children:"Eliminar"}),(0,h.jsx)(a.A,{variant:"secondary",onClick:I,children:"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=314.bdfed0f3.chunk.js.map