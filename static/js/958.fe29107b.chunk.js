"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[958],{4958:(e,n,o)=>{o.r(n),o.d(n,{default:()=>u});var s=o(5043),l=o(3519),d=o(8628),c=o(1072),i=o(8602),r=o(4282),a=o(3814),t=o(4196),m=o(5284),h=o(1894);var x=o(579);const u=()=>{const[e,n]=(0,s.useState)([]),[o,u]=(0,s.useState)({num_persona:"",cod_tipdoc:"",num_documento:"",nom_persona:"",nom_apellido:"",des_email:"",num_telefono:"",des_direccion:"",ind_estado:1,fec_creacion:"",fec_modif:""}),[j,p]=(0,s.useState)(!1),[_,A]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),[C,y]=(0,s.useState)(null);(0,s.useEffect)((()=>{N()}),[]);const N=async()=>{const e=await(async()=>(0,h.A)("/api/v1/configuracion/personas"))();n(e)},g=e=>{const{name:n,value:s}=e.target;u({...o,[n]:s})},v=()=>{p(!1),u({num_persona:"",cod_tipdoc:"",num_documento:"",nom_persona:"",nom_apellido:"",des_email:"",num_telefono:"",des_direccion:"",ind_estado:1,fec_creacion:"",fec_modif:""})},G=()=>{A(!1),u({num_persona:"",cod_tipdoc:"",num_documento:"",nom_persona:"",nom_apellido:"",des_email:"",num_telefono:"",des_direccion:"",ind_estado:1,fec_creacion:"",fec_modif:""})},E=()=>b(!1);return(0,x.jsxs)(l.A,{fluid:!0,className:"p-0",children:[(0,x.jsx)(d.A,{children:(0,x.jsxs)(d.A.Body,{className:"p-3",children:[(0,x.jsx)(d.A.Title,{className:"mb-3",children:"Personas"}),(0,x.jsx)(c.A,{className:"mb-3",children:(0,x.jsxs)(i.A,{xs:12,md:6,className:"d-flex align-items-center justify-content-start mb-2 mb-md-0",children:[(0,x.jsx)(r.A,{id:"agregarPersona",className:"mr-2",onClick:()=>p(!0),title:"Agregar",children:(0,x.jsx)("i",{className:"fa fa-plus"})}),(0,x.jsx)(a.A.Group,{className:"flex-grow-1",children:(0,x.jsx)(a.A.Control,{type:"text",placeholder:"Buscar",id:"txtBuscar",className:"rounded"})}),(0,x.jsx)(r.A,{type:"button",className:"btn btn-secondary ml-2",title:"Filtrar",children:(0,x.jsx)("i",{className:"fa fa-search"})})]})}),(0,x.jsx)("div",{className:"table-responsive",id:"tabPersona",children:(0,x.jsxs)(t.A,{children:[(0,x.jsx)("caption",{children:"Datatable"}),(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Opciones"}),(0,x.jsx)("th",{children:"N\xfamero de Persona"}),(0,x.jsx)("th",{children:"Tipo de Documento"}),(0,x.jsx)("th",{children:"N\xfamero de Documento"}),(0,x.jsx)("th",{children:"Nombre"}),(0,x.jsx)("th",{children:"Apellido"}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"Tel\xe9fono"}),(0,x.jsx)("th",{children:"Direcci\xf3n"}),(0,x.jsx)("th",{children:"Estado"}),(0,x.jsx)("th",{children:"Fecha de Creaci\xf3n"}),(0,x.jsx)("th",{children:"Fecha de Modificaci\xf3n"})]})}),(0,x.jsx)("tbody",{children:e.map(((e,n)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:n+1}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"btn-group",role:"group",children:[(0,x.jsxs)(r.A,{type:"button",className:"btn btn-secondary btn-sm mb-1",title:"Editar",onClick:()=>(e=>{y(e),u({num_persona:e.num_persona,cod_tipdoc:e.cod_tipdoc,num_documento:e.num_documento,nom_persona:e.nom_persona,nom_apellido:e.nom_apellido,des_email:e.des_email,num_telefono:e.num_telefono,des_direccion:e.des_direccion,ind_estado:e.ind_estado,fec_creacion:e.fec_creacion,fec_modif:e.fec_modif}),A(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-pencil"})]}),(0,x.jsxs)(r.A,{type:"button",className:"btn btn-danger btn-sm mb-1 ml-1",title:"Eliminar",onClick:()=>(e=>{y(e),b(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-trash-o"})]})]})}),(0,x.jsx)("td",{children:e.num_persona}),(0,x.jsx)("td",{children:e.cod_tipdoc}),(0,x.jsx)("td",{children:e.num_documento}),(0,x.jsx)("td",{children:e.nom_persona}),(0,x.jsx)("td",{children:e.nom_apellido}),(0,x.jsx)("td",{children:e.des_email}),(0,x.jsx)("td",{children:e.num_telefono}),(0,x.jsx)("td",{children:e.des_direccion}),(0,x.jsx)("td",{children:e.ind_estado?"Activo":"Inactivo"}),(0,x.jsx)("td",{children:e.fec_creacion}),(0,x.jsx)("td",{children:e.fec_modif})]},n)))})]})})]})}),(0,x.jsxs)(m.A,{show:j,onHide:v,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Registrar Persona"})}),(0,x.jsxs)(a.A,{id:"formRegistro",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async e=>(0,h.A)("/api/v1/configuracion/personas","POST",e))(o),N(),v()},children:[(0,x.jsx)(m.A.Body,{children:(0,x.jsxs)(c.A,{children:[(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"cod_tipdoc",children:[(0,x.jsx)(a.A.Label,{children:"Tipo de Documento"}),(0,x.jsx)(a.A.Control,{type:"text",name:"cod_tipdoc",value:o.cod_tipdoc,onChange:g,required:!0})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"num_documento",children:[(0,x.jsx)(a.A.Label,{children:"N\xfamero de Documento"}),(0,x.jsx)(a.A.Control,{type:"text",name:"num_documento",value:o.num_documento,onChange:g,required:!0})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"nom_persona",children:[(0,x.jsx)(a.A.Label,{children:"Nombre"}),(0,x.jsx)(a.A.Control,{type:"text",name:"nom_persona",value:o.nom_persona,onChange:g,required:!0})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"nom_apellido",children:[(0,x.jsx)(a.A.Label,{children:"Apellido"}),(0,x.jsx)(a.A.Control,{type:"text",name:"nom_apellido",value:o.nom_apellido,onChange:g})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"des_email",children:[(0,x.jsx)(a.A.Label,{children:"Email"}),(0,x.jsx)(a.A.Control,{type:"email",name:"des_email",value:o.des_email,onChange:g,required:!0})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"num_telefono",children:[(0,x.jsx)(a.A.Label,{children:"Tel\xe9fono"}),(0,x.jsx)(a.A.Control,{type:"text",name:"num_telefono",value:o.num_telefono,onChange:g})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"des_direccion",children:[(0,x.jsx)(a.A.Label,{children:"Direcci\xf3n"}),(0,x.jsx)(a.A.Control,{type:"text",name:"des_direccion",value:o.des_direccion,onChange:g})]})})]})}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(r.A,{type:"submit",variant:"outline-primary",children:"Registrar"}),(0,x.jsx)(r.A,{variant:"outline-secondary",onClick:v,children:"Cancelar"})]})]})]}),(0,x.jsxs)(m.A,{show:_,onHide:G,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Editar Persona"})}),(0,x.jsxs)(a.A,{id:"formEdicion",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async(e,n)=>(0,h.A)(`/api/v1/configuracion/personas/${e}`,"PUT",n))(C.num_persona,o),N(),G()},children:[(0,x.jsx)(m.A.Body,{children:(0,x.jsxs)(c.A,{children:[(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"cod_tipdoc",children:[(0,x.jsx)(a.A.Label,{children:"Tipo de Documento"}),(0,x.jsx)(a.A.Control,{type:"text",name:"cod_tipdoc",value:o.cod_tipdoc,onChange:g,required:!0})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"num_documento",children:[(0,x.jsx)(a.A.Label,{children:"N\xfamero de Documento"}),(0,x.jsx)(a.A.Control,{type:"text",name:"num_documento",value:o.num_documento,onChange:g,required:!0})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"nom_persona",children:[(0,x.jsx)(a.A.Label,{children:"Nombre"}),(0,x.jsx)(a.A.Control,{type:"text",name:"nom_persona",value:o.nom_persona,onChange:g,required:!0})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"nom_apellido",children:[(0,x.jsx)(a.A.Label,{children:"Apellido"}),(0,x.jsx)(a.A.Control,{type:"text",name:"nom_apellido",value:o.nom_apellido,onChange:g})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"des_email",children:[(0,x.jsx)(a.A.Label,{children:"Email"}),(0,x.jsx)(a.A.Control,{type:"email",name:"des_email",value:o.des_email,onChange:g,required:!0})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"num_telefono",children:[(0,x.jsx)(a.A.Label,{children:"Tel\xe9fono"}),(0,x.jsx)(a.A.Control,{type:"text",name:"num_telefono",value:o.num_telefono,onChange:g})]})}),(0,x.jsx)(i.A,{md:6,className:"mb-3",children:(0,x.jsxs)(a.A.Group,{controlId:"des_direccion",children:[(0,x.jsx)(a.A.Label,{children:"Direcci\xf3n"}),(0,x.jsx)(a.A.Control,{type:"text",name:"des_direccion",value:o.des_direccion,onChange:g})]})})]})}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(r.A,{type:"submit",variant:"outline-primary",children:"Guardar Cambios"}),(0,x.jsx)(r.A,{variant:"outline-secondary",onClick:G,children:"Cancelar"})]})]})]}),(0,x.jsxs)(m.A,{show:f,onHide:E,children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Eliminar Persona"})}),(0,x.jsxs)(m.A.Body,{children:[" \xbfEst\xe1s seguro de que deseas eliminar la persona: ",(0,x.jsx)("strong",{children:C&&C.nom_persona}),"? "]}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(r.A,{variant:"danger",onClick:async()=>{await(async e=>(0,h.A)(`/api/v1/configuracion/personas/${e}`,"DELETE"))(C.num_persona),N(),b(!1)},children:"Eliminar"}),(0,x.jsx)(r.A,{variant:"secondary",onClick:E,children:"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=958.fe29107b.chunk.js.map