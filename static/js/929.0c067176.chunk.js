"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[929],{929:(e,n,l)=>{l.r(n),l.d(n,{default:()=>j});var s=l(5043),t=l(3519),c=l(8628),i=l(1072),a=l(8602),r=l(4282),o=l(3814),d=l(4196),m=l(5284),x=l(1894);var h=l(579);const j=()=>{const[e,n]=(0,s.useState)([]),[l,j]=(0,s.useState)({num_venta:"",cod_cpe:"",num_serie:"",num_cpe:"",num_cliente:"",nom_cliente:"",num_doccliente:"",fec_emision:"",mto_imptotal:""}),[u,A]=(0,s.useState)(!1),[_,p]=(0,s.useState)(!1),[C,b]=(0,s.useState)(!1),[v,N]=(0,s.useState)(null);(0,s.useEffect)((()=>{y()}),[]);const y=async()=>{const e=await(async()=>(0,x.A)("/api/v1/ventas/ventascli"))();n(e)},g=e=>{const{name:n,value:s}=e.target;j({...l,[n]:s})},f=()=>{A(!1),j({num_venta:"",cod_cpe:"",num_serie:"",num_cpe:"",num_cliente:"",nom_cliente:"",num_doccliente:"",fec_emision:"",mto_imptotal:""})},I=()=>{p(!1),j({num_venta:"",cod_cpe:"",num_serie:"",num_cpe:"",num_cliente:"",nom_cliente:"",num_doccliente:"",fec_emision:"",mto_imptotal:""})},E=()=>b(!1);return(0,h.jsxs)(t.A,{fluid:!0,className:"p-0",children:[(0,h.jsx)(c.A,{children:(0,h.jsxs)(c.A.Body,{className:"p-3",children:[(0,h.jsx)(c.A.Title,{className:"mb-3",children:"Ventas por Cliente"}),(0,h.jsx)(i.A,{className:"mb-3",children:(0,h.jsxs)(a.A,{xs:12,md:6,className:"d-flex align-items-center justify-content-start mb-2 mb-md-0",children:[(0,h.jsx)(r.A,{id:"agregarVentaCliente",className:"mr-2",onClick:()=>A(!0),title:"Agregar",children:(0,h.jsx)("i",{className:"fa fa-plus"})}),(0,h.jsx)(o.A.Group,{className:"flex-grow-1",children:(0,h.jsx)(o.A.Control,{type:"text",placeholder:"Buscar",id:"txtBuscar",className:"rounded"})}),(0,h.jsx)(r.A,{type:"button",className:"btn btn-secondary ml-2",title:"Filtrar",children:(0,h.jsx)("i",{className:"fa fa-search"})})]})}),(0,h.jsx)("div",{className:"table-responsive",id:"tabVentasCliente",children:(0,h.jsxs)(d.A,{children:[(0,h.jsx)("caption",{children:"Datatable"}),(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"#"}),(0,h.jsx)("th",{children:"Opciones"}),(0,h.jsx)("th",{children:"C\xf3digo CPE"}),(0,h.jsx)("th",{children:"Serie"}),(0,h.jsx)("th",{children:"N\xfamero de CPE"}),(0,h.jsx)("th",{children:"N\xfamero de Cliente"}),(0,h.jsx)("th",{children:"Nombre del Cliente"}),(0,h.jsx)("th",{children:"Documento del Cliente"}),(0,h.jsx)("th",{children:"Fecha de Emisi\xf3n"}),(0,h.jsx)("th",{children:"Importe Total"})]})}),(0,h.jsx)("tbody",{children:e.map(((e,n)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:n+1}),(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"btn-group",role:"group",children:[(0,h.jsxs)(r.A,{type:"button",className:"btn btn-secondary btn-sm mb-1",title:"Editar",onClick:()=>(e=>{N(e),j({num_venta:e.num_venta,cod_cpe:e.cod_cpe,num_serie:e.num_serie,num_cpe:e.num_cpe,num_cliente:e.num_cliente,nom_cliente:e.nom_cliente,num_doccliente:e.num_doccliente,fec_emision:e.fec_emision,mto_imptotal:e.mto_imptotal}),p(!0)})(e),children:[" ",(0,h.jsx)("i",{className:"fa fa-pencil"})]}),(0,h.jsxs)(r.A,{type:"button",className:"btn btn-danger btn-sm mb-1 ml-1",title:"Eliminar",onClick:()=>(e=>{N(e),b(!0)})(e),children:[" ",(0,h.jsx)("i",{className:"fa fa-trash-o"})]})]})}),(0,h.jsx)("td",{children:e.cod_cpe}),(0,h.jsx)("td",{children:e.num_serie}),(0,h.jsx)("td",{children:e.num_cpe}),(0,h.jsx)("td",{children:e.num_cliente}),(0,h.jsx)("td",{children:e.nom_cliente}),(0,h.jsx)("td",{children:e.num_doccliente}),(0,h.jsx)("td",{children:e.fec_emision}),(0,h.jsx)("td",{children:e.mto_imptotal})]},n)))})]})})]})}),(0,h.jsxs)(m.A,{show:u,onHide:f,size:"lg",children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsx)(m.A.Title,{children:"Registrar Venta de Cliente"})}),(0,h.jsxs)(o.A,{id:"formRegistro",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async e=>(0,x.A)("/api/v1/ventas/ventascli","POST",e))(l),y(),f()},children:[(0,h.jsxs)(m.A.Body,{children:[(0,h.jsxs)(i.A,{children:[(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_venta",children:[(0,h.jsx)(o.A.Label,{children:"N\xfamero de Venta"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_venta",value:l.num_venta,onChange:g,required:!0})]})}),(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"cod_cpe",children:[(0,h.jsx)(o.A.Label,{children:"C\xf3digo CPE"}),(0,h.jsx)(o.A.Control,{type:"text",name:"cod_cpe",value:l.cod_cpe,onChange:g})]})})]}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_serie",children:[(0,h.jsx)(o.A.Label,{children:"Serie"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_serie",value:l.num_serie,onChange:g})]})}),(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_cpe",children:[(0,h.jsx)(o.A.Label,{children:"N\xfamero de CPE"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_cpe",value:l.num_cpe,onChange:g})]})})]}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_cliente",children:[(0,h.jsx)(o.A.Label,{children:"N\xfamero de Cliente"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_cliente",value:l.num_cliente,onChange:g})]})}),(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"nom_cliente",children:[(0,h.jsx)(o.A.Label,{children:"Nombre del Cliente"}),(0,h.jsx)(o.A.Control,{type:"text",name:"nom_cliente",value:l.nom_cliente,onChange:g})]})})]}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_doccliente",children:[(0,h.jsx)(o.A.Label,{children:"N\xfamero de Documento del Cliente"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_doccliente",value:l.num_doccliente,onChange:g})]})}),(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"fec_emision",children:[(0,h.jsx)(o.A.Label,{children:"Fecha de Emisi\xf3n"}),(0,h.jsx)(o.A.Control,{type:"date",name:"fec_emision",value:l.fec_emision,onChange:g})]})})]}),(0,h.jsx)(i.A,{children:(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"mto_imptotal",children:[(0,h.jsx)(o.A.Label,{children:"Importe Total"}),(0,h.jsx)(o.A.Control,{type:"text",name:"mto_imptotal",value:l.mto_imptotal,onChange:g})]})})})]}),(0,h.jsxs)(m.A.Footer,{children:[(0,h.jsx)(r.A,{type:"submit",variant:"outline-primary",children:"Registrar"}),(0,h.jsx)(r.A,{variant:"outline-secondary",onClick:f,children:"Cancelar"})]})]})]}),(0,h.jsxs)(m.A,{show:_,onHide:I,size:"lg",children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsx)(m.A.Title,{children:"Editar Venta de Cliente"})}),(0,h.jsxs)(o.A,{id:"formEdicion",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async(e,n)=>(0,x.A)(`/api/v1/ventas/ventascli/${e}`,"PUT",n))(v.num_venta,l),y(),I()},children:[(0,h.jsxs)(m.A.Body,{children:[(0,h.jsxs)(i.A,{children:[(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_venta",children:[(0,h.jsx)(o.A.Label,{children:"N\xfamero de Venta"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_venta",value:l.num_venta,onChange:g,required:!0})]})}),(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"cod_cpe",children:[(0,h.jsx)(o.A.Label,{children:"C\xf3digo CPE"}),(0,h.jsx)(o.A.Control,{type:"text",name:"cod_cpe",value:l.cod_cpe,onChange:g})]})})]}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_serie",children:[(0,h.jsx)(o.A.Label,{children:"Serie"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_serie",value:l.num_serie,onChange:g})]})}),(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_cpe",children:[(0,h.jsx)(o.A.Label,{children:"N\xfamero de CPE"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_cpe",value:l.num_cpe,onChange:g})]})})]}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_cliente",children:[(0,h.jsx)(o.A.Label,{children:"N\xfamero de Cliente"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_cliente",value:l.num_cliente,onChange:g})]})}),(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"nom_cliente",children:[(0,h.jsx)(o.A.Label,{children:"Nombre del Cliente"}),(0,h.jsx)(o.A.Control,{type:"text",name:"nom_cliente",value:l.nom_cliente,onChange:g})]})})]}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"num_doccliente",children:[(0,h.jsx)(o.A.Label,{children:"N\xfamero de Documento del Cliente"}),(0,h.jsx)(o.A.Control,{type:"text",name:"num_doccliente",value:l.num_doccliente,onChange:g})]})}),(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"fec_emision",children:[(0,h.jsx)(o.A.Label,{children:"Fecha de Emisi\xf3n"}),(0,h.jsx)(o.A.Control,{type:"date",name:"fec_emision",value:l.fec_emision,onChange:g})]})})]}),(0,h.jsx)(i.A,{children:(0,h.jsx)(a.A,{md:6,className:"mb-3",children:(0,h.jsxs)(o.A.Group,{controlId:"mto_imptotal",children:[(0,h.jsx)(o.A.Label,{children:"Importe Total"}),(0,h.jsx)(o.A.Control,{type:"text",name:"mto_imptotal",value:l.mto_imptotal,onChange:g})]})})})]}),(0,h.jsxs)(m.A.Footer,{children:[(0,h.jsx)(r.A,{type:"submit",variant:"outline-primary",children:"Guardar Cambios"}),(0,h.jsx)(r.A,{variant:"outline-secondary",onClick:I,children:"Cancelar"})]})]})]}),(0,h.jsxs)(m.A,{show:C,onHide:E,children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsx)(m.A.Title,{children:"Eliminar Venta de Cliente"})}),(0,h.jsxs)(m.A.Body,{children:[" \xbfEst\xe1s seguro de que deseas eliminar la venta de cliente:"," "," ",(0,h.jsx)("strong",{children:v&&v.nom_cliente}),"? "]}),(0,h.jsxs)(m.A.Footer,{children:[(0,h.jsx)(r.A,{variant:"danger",onClick:async()=>{await(async e=>(0,x.A)(`/api/v1/ventas/ventascli/${e}`,"DELETE"))(v.num_venta),y(),b(!1)},children:"Eliminar"}),(0,h.jsx)(r.A,{variant:"secondary",onClick:E,children:"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=929.0c067176.chunk.js.map