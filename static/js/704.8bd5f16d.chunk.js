"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[704],{1704:(e,s,n)=>{n.r(s),n.d(s,{default:()=>j});var r=n(5043),i=n(3519),a=n(8628),t=n(1072),l=n(8602),c=n(4282),d=n(3814),o=n(4196),h=n(5284),x=n(1894);var m=n(579);const j=()=>{const[e,s]=(0,r.useState)([]),[n,j]=(0,r.useState)({cod_cpe:"",num_serie:"",ind_estado:""}),[u,A]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[C,_]=(0,r.useState)(!1),[y,g]=(0,r.useState)(null);(0,r.useEffect)((()=>{v()}),[]);const v=async()=>{const e=await(async()=>(0,x.A)("/api/v1/ventas/cpeserie"))();s(e)},f=e=>{const{name:s,value:r}=e.target;j({...n,[s]:r})},N=()=>{A(!1),j({cod_cpe:"",num_serie:"",ind_estado:""})},E=()=>{b(!1),j({cod_cpe:"",num_serie:"",ind_estado:""})},S=()=>_(!1);return(0,m.jsxs)(i.A,{fluid:!0,className:"p-0",children:[(0,m.jsx)(a.A,{children:(0,m.jsxs)(a.A.Body,{className:"p-3",children:[(0,m.jsx)(a.A.Title,{className:"mb-3",children:"Series de Comprobantes de Pago Electr\xf3nicos (CPE)"}),(0,m.jsx)(t.A,{className:"mb-3",children:(0,m.jsxs)(l.A,{xs:12,md:6,className:"d-flex align-items-center justify-content-start mb-2 mb-md-0",children:[(0,m.jsx)(c.A,{id:"agregarCpeSerie",className:"mr-2",onClick:()=>A(!0),title:"Agregar",children:(0,m.jsx)("i",{className:"fa fa-plus"})}),(0,m.jsx)(d.A.Group,{className:"flex-grow-1",children:(0,m.jsx)(d.A.Control,{type:"text",placeholder:"Buscar",id:"txtBuscar",className:"rounded"})}),(0,m.jsx)(c.A,{type:"button",className:"btn btn-secondary ml-2",title:"Filtrar",children:(0,m.jsx)("i",{className:"fa fa-search"})})]})}),(0,m.jsx)("div",{className:"table-responsive",id:"tabCpeSerie",children:(0,m.jsxs)(o.A,{children:[(0,m.jsx)("caption",{children:"Datatable"}),(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"#"}),(0,m.jsx)("th",{children:"Opciones"}),(0,m.jsx)("th",{children:"C\xf3digo"}),(0,m.jsx)("th",{children:"Serie"}),(0,m.jsx)("th",{children:"Estado"})]})}),(0,m.jsx)("tbody",{children:e.map(((e,s)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:s+1}),(0,m.jsx)("td",{children:(0,m.jsxs)("div",{className:"btn-group",role:"group",children:[(0,m.jsxs)(c.A,{type:"button",className:"btn btn-secondary btn-sm mb-1",title:"Editar",onClick:()=>(e=>{g(e),j({cod_cpe:e.cod_cpe,num_serie:e.num_serie,ind_estado:e.ind_estado}),b(!0)})(e),children:[" ",(0,m.jsx)("i",{className:"fa fa-pencil"})]}),(0,m.jsxs)(c.A,{type:"button",className:"btn btn-danger btn-sm mb-1 ml-1",title:"Eliminar",onClick:()=>(e=>{g(e),_(!0)})(e),children:[" ",(0,m.jsx)("i",{className:"fa fa-trash-o"})]})]})}),(0,m.jsx)("td",{children:e.cod_cpe}),(0,m.jsx)("td",{children:e.num_serie}),(0,m.jsx)("td",{children:e.ind_estado})]},s)))})]})})]})}),(0,m.jsxs)(h.A,{show:u,onHide:N,size:"lg",children:[(0,m.jsx)(h.A.Header,{closeButton:!0,children:(0,m.jsx)(h.A.Title,{children:"Registrar CPE Serie"})}),(0,m.jsxs)(d.A,{id:"formRegistro",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async e=>(0,x.A)("/api/v1/ventas/cpeserie","POST",e))(n),v(),N()},children:[(0,m.jsxs)(h.A.Body,{children:[(0,m.jsxs)(t.A,{children:[(0,m.jsx)(l.A,{md:6,className:"mb-3",children:(0,m.jsxs)(d.A.Group,{controlId:"cod_cpe",children:[(0,m.jsx)(d.A.Label,{children:"C\xf3digo CPE"}),(0,m.jsx)(d.A.Control,{type:"text",name:"cod_cpe",value:n.cod_cpe,onChange:f,required:!0})]})}),(0,m.jsx)(l.A,{md:6,className:"mb-3",children:(0,m.jsxs)(d.A.Group,{controlId:"num_serie",children:[(0,m.jsx)(d.A.Label,{children:"Serie"}),(0,m.jsx)(d.A.Control,{type:"text",name:"num_serie",value:n.num_serie,onChange:f,required:!0})]})})]}),(0,m.jsx)(t.A,{children:(0,m.jsx)(l.A,{md:6,className:"mb-3",children:(0,m.jsxs)(d.A.Group,{controlId:"ind_estado",children:[(0,m.jsx)(d.A.Label,{children:"Estado"}),(0,m.jsx)(d.A.Control,{type:"text",name:"ind_estado",value:n.ind_estado,onChange:f})]})})})]}),(0,m.jsxs)(h.A.Footer,{children:[(0,m.jsx)(c.A,{type:"submit",variant:"outline-primary",children:"Registrar"}),(0,m.jsx)(c.A,{variant:"outline-secondary",onClick:N,children:"Cancelar"})]})]})]}),(0,m.jsxs)(h.A,{show:p,onHide:E,size:"lg",children:[(0,m.jsx)(h.A.Header,{closeButton:!0,children:(0,m.jsx)(h.A.Title,{children:"Editar CPE Serie"})}),(0,m.jsxs)(d.A,{id:"formEdicion",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async(e,s)=>(0,x.A)(`/api/v1/ventas/cpeserie/${e}`,"PUT",s))(y.num_serie,n),v(),E()},children:[(0,m.jsxs)(h.A.Body,{children:[(0,m.jsxs)(t.A,{children:[(0,m.jsx)(l.A,{md:6,className:"mb-3",children:(0,m.jsxs)(d.A.Group,{controlId:"cod_cpe",children:[(0,m.jsx)(d.A.Label,{children:"C\xf3digo CPE"}),(0,m.jsx)(d.A.Control,{type:"text",name:"cod_cpe",value:n.cod_cpe,onChange:f,required:!0})]})}),(0,m.jsx)(l.A,{md:6,className:"mb-3",children:(0,m.jsxs)(d.A.Group,{controlId:"num_serie",children:[(0,m.jsx)(d.A.Label,{children:"Serie"}),(0,m.jsx)(d.A.Control,{type:"text",name:"num_serie",value:n.num_serie,onChange:f,required:!0})]})})]}),(0,m.jsx)(t.A,{children:(0,m.jsx)(l.A,{md:6,className:"mb-3",children:(0,m.jsxs)(d.A.Group,{controlId:"ind_estado",children:[(0,m.jsx)(d.A.Label,{children:"Estado"}),(0,m.jsx)(d.A.Control,{type:"text",name:"ind_estado",value:n.ind_estado,onChange:f})]})})})]}),(0,m.jsxs)(h.A.Footer,{children:[(0,m.jsx)(c.A,{type:"submit",variant:"outline-primary",children:"Guardar Cambios"}),(0,m.jsx)(c.A,{variant:"outline-secondary",onClick:E,children:"Cancelar"})]})]})]}),(0,m.jsxs)(h.A,{show:C,onHide:S,children:[(0,m.jsx)(h.A.Header,{closeButton:!0,children:(0,m.jsx)(h.A.Title,{children:"Eliminar CPE Serie"})}),(0,m.jsxs)(h.A.Body,{children:[" \xbfEst\xe1s seguro de que deseas eliminar el CPE Serie:"," "," ",(0,m.jsx)("strong",{children:y&&y.num_serie}),"? "]}),(0,m.jsxs)(h.A.Footer,{children:[(0,m.jsx)(c.A,{variant:"danger",onClick:async()=>{await(async e=>(0,x.A)(`/api/v1/ventas/cpeserie/${e}`,"DELETE"))(y.num_serie),v(),_(!1)},children:"Eliminar"}),(0,m.jsx)(c.A,{variant:"secondary",onClick:S,children:"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=704.8bd5f16d.chunk.js.map