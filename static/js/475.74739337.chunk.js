"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[475],{3475:(e,n,t)=>{t.r(n),t.d(n,{default:()=>u});var s=t(5043),a=t(3519),c=t(8628),r=t(1072),o=t(8602),l=t(4282),i=t(3814),d=t(4196),m=t(5284),x=t(1894);var h=t(579);const u=()=>{const[e,n]=(0,s.useState)([]),[t,u]=(0,s.useState)({num_almacen:"",num_producto:"",cnt_stock:"",cnt_stock_min:"",mto_pcompra:"",mto_pventa:""}),[j,p]=(0,s.useState)(!1),[A,_]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!1),[C,k]=(0,s.useState)(null);(0,s.useEffect)((()=>{y()}),[]);const y=async()=>{const e=await(async()=>(0,x.A)("/api/v1/almacen/inventarios"))();n(e)},f=e=>{const{name:n,value:s}=e.target;u({...t,[n]:s})},g=()=>{p(!1),u({num_almacen:"",num_producto:"",cnt_stock:"",cnt_stock_min:"",mto_pcompra:"",mto_pventa:""})},N=()=>{_(!1),u({num_almacen:"",num_producto:"",cnt_stock:"",cnt_stock_min:"",mto_pcompra:"",mto_pventa:""})},I=()=>b(!1);return(0,h.jsxs)(a.A,{fluid:!0,className:"p-0",children:[(0,h.jsx)(c.A,{children:(0,h.jsxs)(c.A.Body,{className:"p-3",children:[(0,h.jsx)(c.A.Title,{className:"mb-3",children:"Inventarios"}),(0,h.jsx)(r.A,{className:"mb-3",children:(0,h.jsxs)(o.A,{xs:12,md:6,className:"d-flex align-items-center justify-content-start mb-2 mb-md-0",children:[(0,h.jsx)(l.A,{id:"agregarInventario",className:"mr-2",onClick:()=>p(!0),title:"Agregar",children:(0,h.jsx)("i",{className:"fa fa-plus"})}),(0,h.jsx)(i.A.Group,{className:"flex-grow-1",children:(0,h.jsx)(i.A.Control,{type:"text",placeholder:"Buscar",id:"txtBuscar",className:"rounded"})}),(0,h.jsx)(l.A,{type:"button",className:"btn btn-secondary ml-2",title:"Filtrar",children:(0,h.jsx)("i",{className:"fa fa-search"})})]})}),(0,h.jsx)("div",{className:"table-responsive",id:"tabInventario",children:(0,h.jsxs)(d.A,{children:[(0,h.jsx)("caption",{children:"Datatable"}),(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"#"}),(0,h.jsx)("th",{children:"Opciones"}),(0,h.jsx)("th",{children:"Almac\xe9n"}),(0,h.jsx)("th",{children:"Producto"}),(0,h.jsx)("th",{children:"Stock"}),(0,h.jsx)("th",{children:"Stock M\xednimo"}),(0,h.jsx)("th",{children:"Precio Compra"}),(0,h.jsx)("th",{children:"Precio Venta"})]})}),(0,h.jsx)("tbody",{children:e.map(((e,n)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:n+1}),(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"btn-group",role:"group",children:[(0,h.jsxs)(l.A,{type:"button",className:"btn btn-secondary btn-sm mb-1",title:"Editar",onClick:()=>(e=>{k(e),u({num_almacen:e.num_almacen,num_producto:e.num_producto,cnt_stock:e.cnt_stock,cnt_stock_min:e.cnt_stock_min,mto_pcompra:e.mto_pcompra,mto_pventa:e.mto_pventa}),_(!0)})(e),children:[" ",(0,h.jsx)("i",{className:"fa fa-pencil"})]}),(0,h.jsxs)(l.A,{type:"button",className:"btn btn-danger btn-sm mb-1 ml-1",title:"Eliminar",onClick:()=>(e=>{k(e),b(!0)})(e),children:[" ",(0,h.jsx)("i",{className:"fa fa-trash-o"})]})]})}),(0,h.jsx)("td",{children:e.num_almacen}),(0,h.jsx)("td",{children:e.num_producto}),(0,h.jsx)("td",{children:e.cnt_stock}),(0,h.jsx)("td",{children:e.cnt_stock_min}),(0,h.jsx)("td",{children:e.mto_pcompra}),(0,h.jsx)("td",{children:e.mto_pventa})]},n)))})]})})]})}),(0,h.jsxs)(m.A,{show:j,onHide:g,size:"lg",children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsx)(m.A.Title,{children:"Registrar Inventario"})}),(0,h.jsxs)(i.A,{id:"formRegistro",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async e=>(0,x.A)("/api/v1/almacen/inventarios","POST",e))(t),y(),g()},children:[(0,h.jsx)(m.A.Body,{children:(0,h.jsxs)(r.A,{children:[(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"num_almacen",children:[(0,h.jsx)(i.A.Label,{children:"Almac\xe9n"}),(0,h.jsx)(i.A.Control,{type:"text",name:"num_almacen",value:t.num_almacen,onChange:f,required:!0})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"num_producto",children:[(0,h.jsx)(i.A.Label,{children:"Producto"}),(0,h.jsx)(i.A.Control,{type:"text",name:"num_producto",value:t.num_producto,onChange:f,required:!0})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"cnt_stock",children:[(0,h.jsx)(i.A.Label,{children:"Stock"}),(0,h.jsx)(i.A.Control,{type:"text",name:"cnt_stock",value:t.cnt_stock,onChange:f,required:!0,autoComplete:"off"})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"cnt_stock_min",children:[(0,h.jsx)(i.A.Label,{children:"Stock M\xednimo"}),(0,h.jsx)(i.A.Control,{type:"text",name:"cnt_stock_min",value:t.cnt_stock_min,onChange:f,required:!0,autoComplete:"off"})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"mto_pcompra",children:[(0,h.jsx)(i.A.Label,{children:"Precio de Compra"}),(0,h.jsx)(i.A.Control,{type:"text",name:"mto_pcompra",value:t.mto_pcompra,onChange:f,required:!0})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"mto_pventa",children:[(0,h.jsx)(i.A.Label,{children:"Precio de Venta"}),(0,h.jsx)(i.A.Control,{type:"text",name:"mto_pventa",value:t.mto_pventa,onChange:f,required:!0})]})})]})}),(0,h.jsxs)(m.A.Footer,{children:[(0,h.jsx)(l.A,{type:"submit",variant:"outline-primary",children:" Registrar "}),(0,h.jsx)(l.A,{variant:"outline-secondary",onClick:g,children:" Cancelar "})]})]})]}),(0,h.jsxs)(m.A,{show:A,onHide:N,size:"lg",children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsx)(m.A.Title,{children:"Editar Inventario"})}),(0,h.jsxs)(i.A,{id:"formEditar",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async(e,n)=>(0,x.A)(`/api/v1/almacen/inventarios/${e}`,"PUT",n))(C.num_inventario,t),y(),N()},children:[(0,h.jsx)(m.A.Body,{children:(0,h.jsxs)(r.A,{children:[(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"num_almacen",children:[(0,h.jsx)(i.A.Label,{children:"Almac\xe9n"}),(0,h.jsx)(i.A.Control,{type:"text",name:"num_almacen",value:t.num_almacen,onChange:f,required:!0})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"num_producto",children:[(0,h.jsx)(i.A.Label,{children:"Producto"}),(0,h.jsx)(i.A.Control,{type:"text",name:"num_producto",value:t.num_producto,onChange:f,required:!0})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"cnt_stock",children:[(0,h.jsx)(i.A.Label,{children:"Stock"}),(0,h.jsx)(i.A.Control,{type:"text",name:"cnt_stock",value:t.cnt_stock,onChange:f,required:!0,autoComplete:"off"})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"cnt_stock_min",children:[(0,h.jsx)(i.A.Label,{children:"Stock M\xednimo"}),(0,h.jsx)(i.A.Control,{type:"text",name:"cnt_stock_min",value:t.cnt_stock_min,onChange:f,required:!0,autoComplete:"off"})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"mto_pcompra",children:[(0,h.jsx)(i.A.Label,{children:"Precio de Compra"}),(0,h.jsx)(i.A.Control,{type:"text",name:"mto_pcompra",value:t.mto_pcompra,onChange:f,required:!0})]})}),(0,h.jsx)(o.A,{md:6,className:"mb-3",children:(0,h.jsxs)(i.A.Group,{controlId:"mto_pventa",children:[(0,h.jsx)(i.A.Label,{children:"Precio de Venta"}),(0,h.jsx)(i.A.Control,{type:"text",name:"mto_pventa",value:t.mto_pventa,onChange:f,required:!0})]})})]})}),(0,h.jsxs)(m.A.Footer,{children:[(0,h.jsx)(l.A,{type:"submit",variant:"outline-primary",children:" Guardar "}),(0,h.jsx)(l.A,{variant:"outline-secondary",onClick:N,children:" Cancelar "})]})]})]}),(0,h.jsxs)(m.A,{show:v,onHide:I,children:[(0,h.jsx)(m.A.Header,{closeButton:!0,children:(0,h.jsx)(m.A.Title,{children:"Eliminar Inventario"})}),(0,h.jsxs)(m.A.Body,{children:[" \xbfEst\xe1s seguro de que deseas eliminar el inventario:"," "," ",(0,h.jsx)("strong",{children:C&&C.num_producto}),"? "]}),(0,h.jsxs)(m.A.Footer,{children:[(0,h.jsx)(l.A,{variant:"danger",onClick:async()=>{await(async e=>(0,x.A)(`/api/v1/almacen/inventarios/${e}`,"DELETE"))(C.num_inventario),y(),b(!1)},children:" Eliminar "}),(0,h.jsx)(l.A,{variant:"secondary",onClick:I,children:" Cancelar "})]})]})]})}}}]);
//# sourceMappingURL=475.74739337.chunk.js.map