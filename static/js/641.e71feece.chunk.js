"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[641],{9641:(e,n,o)=>{o.r(n),o.d(n,{default:()=>h});var i=o(5043),r=o(3519),t=o(8628),s=o(1072),c=o(8602),a=o(4282),d=o(3814),l=o(4196),m=o(5284),u=o(1894);var x=o(579);const h=()=>{const[e,n]=(0,i.useState)([]),[o,h]=(0,i.useState)({num_inventario:"",num_producto:"",ind_tipmovim:"",cnt_movimiento:"",des_motivo:"",cod_operacion:"",cod_cpe:"",num_serie:"",num_cpe:""}),[j,p]=(0,i.useState)(!1),[A,_]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),[C,y]=(0,i.useState)(null);(0,i.useEffect)((()=>{N()}),[]);const N=async()=>{const e=await(async()=>(0,u.A)("/api/v1/almacen/movimientos"))();n(e)},g=e=>{const{name:n,value:i}=e.target;h({...o,[n]:i})},f=()=>{p(!1),h({num_inventario:"",num_producto:"",ind_tipmovim:"",cnt_movimiento:"",des_motivo:"",cod_operacion:"",cod_cpe:"",num_serie:"",num_cpe:""})},I=()=>{_(!1),h({num_inventario:"",num_producto:"",ind_tipmovim:"",cnt_movimiento:"",des_motivo:"",cod_operacion:"",cod_cpe:"",num_serie:"",num_cpe:""})},G=()=>b(!1);return(0,x.jsxs)(r.A,{fluid:!0,className:"p-0",children:[(0,x.jsx)(t.A,{children:(0,x.jsxs)(t.A.Body,{className:"p-3",children:[(0,x.jsx)(t.A.Title,{className:"mb-3",children:"Movimientos de Inventario"}),(0,x.jsx)(s.A,{className:"mb-3",children:(0,x.jsxs)(c.A,{xs:12,md:6,className:"d-flex align-items-center justify-content-start mb-2 mb-md-0",children:[(0,x.jsx)(a.A,{id:"agregarMovimiento",className:"mr-2",onClick:()=>p(!0),title:"Agregar",children:(0,x.jsx)("i",{className:"fa fa-plus"})}),(0,x.jsx)(d.A.Group,{className:"flex-grow-1",children:(0,x.jsx)(d.A.Control,{type:"text",placeholder:"Buscar",id:"txtBuscar",className:"rounded"})}),(0,x.jsx)(a.A,{type:"button",className:"btn btn-secondary ml-2",title:"Filtrar",children:(0,x.jsx)("i",{className:"fa fa-search"})})]})}),(0,x.jsx)("div",{className:"table-responsive",id:"tabMovimiento",children:(0,x.jsxs)(l.A,{children:[(0,x.jsx)("caption",{children:"Datatable"}),(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Opciones"}),(0,x.jsx)("th",{children:"Inventario"}),(0,x.jsx)("th",{children:"Producto"}),(0,x.jsx)("th",{children:"Tipo Movimiento"}),(0,x.jsx)("th",{children:"Cantidad"}),(0,x.jsx)("th",{children:"Motivo"}),(0,x.jsx)("th",{children:"Operaci\xf3n"}),(0,x.jsx)("th",{children:"Comprobante"})]})}),(0,x.jsx)("tbody",{children:e.map(((e,n)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:n+1}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"btn-group",role:"group",children:[(0,x.jsxs)(a.A,{type:"button",className:"btn btn-secondary btn-sm mb-1",title:"Editar",onClick:()=>(e=>{y(e),h({num_inventario:e.num_inventario,num_producto:e.num_producto,ind_tipmovim:e.ind_tipmovim,cnt_movimiento:e.cnt_movimiento,des_motivo:e.des_motivo,cod_operacion:e.cod_operacion,cod_cpe:e.cod_cpe,num_serie:e.num_serie,num_cpe:e.num_cpe}),_(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-pencil"})]}),(0,x.jsxs)(a.A,{type:"button",className:"btn btn-danger btn-sm mb-1 ml-1",title:"Eliminar",onClick:()=>(e=>{y(e),b(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-trash-o"})]})]})}),(0,x.jsx)("td",{children:e.num_inventario}),(0,x.jsx)("td",{children:e.num_producto}),(0,x.jsx)("td",{children:e.ind_tipmovim}),(0,x.jsx)("td",{children:e.cnt_movimiento}),(0,x.jsx)("td",{children:e.des_motivo}),(0,x.jsx)("td",{children:e.cod_operacion}),(0,x.jsx)("td",{children:e.cod_cpe})]},n)))})]})})]})}),(0,x.jsxs)(m.A,{show:j,onHide:f,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Registrar Movimiento"})}),(0,x.jsxs)(d.A,{id:"formRegistro",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async e=>(0,u.A)("/api/v1/almacen/movimientos","POST",e))(o),N(),f()},children:[(0,x.jsx)(m.A.Body,{children:(0,x.jsxs)(s.A,{children:[(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_inventario",children:[(0,x.jsx)(d.A.Label,{children:"Inventario"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_inventario",value:o.num_inventario,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_producto",children:[(0,x.jsx)(d.A.Label,{children:"Producto"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_producto",value:o.num_producto,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"ind_tipmovim",children:[(0,x.jsx)(d.A.Label,{children:"Tipo de Movimiento"}),(0,x.jsx)(d.A.Control,{type:"text",name:"ind_tipmovim",value:o.ind_tipmovim,onChange:g,required:!0,autoComplete:"off"})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"cnt_movimiento",children:[(0,x.jsx)(d.A.Label,{children:"Cantidad"}),(0,x.jsx)(d.A.Control,{type:"text",name:"cnt_movimiento",value:o.cnt_movimiento,onChange:g,required:!0,autoComplete:"off"})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_motivo",children:[(0,x.jsx)(d.A.Label,{children:"Motivo"}),(0,x.jsx)(d.A.Control,{type:"text",name:"des_motivo",value:o.des_motivo,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"cod_operacion",children:[(0,x.jsx)(d.A.Label,{children:"Operaci\xf3n"}),(0,x.jsx)(d.A.Control,{type:"text",name:"cod_operacion",value:o.cod_operacion,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"cod_cpe",children:[(0,x.jsx)(d.A.Label,{children:"Comprobante"}),(0,x.jsx)(d.A.Control,{type:"text",name:"cod_cpe",value:o.cod_cpe,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_serie",children:[(0,x.jsx)(d.A.Label,{children:"Serie"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_serie",value:o.num_serie,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_cpe",children:[(0,x.jsx)(d.A.Label,{children:"N\xfamero de Comprobante"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_cpe",value:o.num_cpe,onChange:g,required:!0})]})})]})}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(a.A,{type:"submit",variant:"outline-primary",children:" Registrar "}),(0,x.jsx)(a.A,{variant:"outline-secondary",onClick:f,children:" Cancelar "})]})]})]}),(0,x.jsxs)(m.A,{show:A,onHide:I,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Editar Movimiento"})}),(0,x.jsxs)(d.A,{id:"formEditar",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async(e,n)=>(0,u.A)(`/api/v1/almacen/movimientos/${e}`,"PUT",n))(C.num_movimiento,o),N(),I()},children:[(0,x.jsx)(m.A.Body,{children:(0,x.jsxs)(s.A,{children:[(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_inventario",children:[(0,x.jsx)(d.A.Label,{children:"Inventario"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_inventario",value:o.num_inventario,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_producto",children:[(0,x.jsx)(d.A.Label,{children:"Producto"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_producto",value:o.num_producto,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"ind_tipmovim",children:[(0,x.jsx)(d.A.Label,{children:"Tipo de Movimiento"}),(0,x.jsx)(d.A.Control,{type:"text",name:"ind_tipmovim",value:o.ind_tipmovim,onChange:g,required:!0,autoComplete:"off"})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"cnt_movimiento",children:[(0,x.jsx)(d.A.Label,{children:"Cantidad"}),(0,x.jsx)(d.A.Control,{type:"text",name:"cnt_movimiento",value:o.cnt_movimiento,onChange:g,required:!0,autoComplete:"off"})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_motivo",children:[(0,x.jsx)(d.A.Label,{children:"Motivo"}),(0,x.jsx)(d.A.Control,{type:"text",name:"des_motivo",value:o.des_motivo,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"cod_operacion",children:[(0,x.jsx)(d.A.Label,{children:"Operaci\xf3n"}),(0,x.jsx)(d.A.Control,{type:"text",name:"cod_operacion",value:o.cod_operacion,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"cod_cpe",children:[(0,x.jsx)(d.A.Label,{children:"Comprobante"}),(0,x.jsx)(d.A.Control,{type:"text",name:"cod_cpe",value:o.cod_cpe,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_serie",children:[(0,x.jsx)(d.A.Label,{children:"Serie"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_serie",value:o.num_serie,onChange:g,required:!0})]})}),(0,x.jsx)(c.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_cpe",children:[(0,x.jsx)(d.A.Label,{children:"N\xfamero de Comprobante"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_cpe",value:o.num_cpe,onChange:g,required:!0})]})})]})}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(a.A,{type:"submit",variant:"outline-primary",children:" Guardar "}),(0,x.jsx)(a.A,{variant:"outline-secondary",onClick:I,children:" Cancelar "})]})]})]}),(0,x.jsxs)(m.A,{show:v,onHide:G,children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Eliminar Movimiento"})}),(0,x.jsxs)(m.A.Body,{children:[" \xbfEst\xe1s seguro de que deseas eliminar el movimiento:"," "," ",(0,x.jsx)("strong",{children:C&&C.num_movimiento}),"? "]}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(a.A,{variant:"danger",onClick:async()=>{await(async e=>(0,u.A)(`/api/v1/almacen/movimientos/${e}`,"DELETE"))(C.num_movimiento),N(),b(!1)},children:" Eliminar "}),(0,x.jsx)(a.A,{variant:"secondary",onClick:G,children:" Cancelar "})]})]})]})}}}]);
//# sourceMappingURL=641.e71feece.chunk.js.map