"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[100],{9100:(e,n,s)=>{s.r(n),s.d(n,{default:()=>j});var a=s(5043),c=s(3519),r=s(8628),i=s(1072),l=s(8602),o=s(4282),d=s(3814),t=s(4196),m=s(5284),h=s(1894);var x=s(579);const j=()=>{const[e,n]=(0,a.useState)([]),[s,j]=(0,a.useState)({num_empresa:"",num_ruc:"",nom_razsocial:"",des_contacto:"",num_telefono:"",des_email:"",des_direccion:"",ind_estado:1,fec_creacion:"",fec_modif:""}),[u,_]=(0,a.useState)(!1),[A,p]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[C,y]=(0,a.useState)(null);(0,a.useEffect)((()=>{g()}),[]);const g=async()=>{const e=await(async()=>(0,h.A)("/api/v1/configuracion/empresas"))();n(e)},v=e=>{const{name:n,value:a}=e.target;j({...s,[n]:a})},N=()=>{_(!1),j({num_empresa:"",num_ruc:"",nom_razsocial:"",des_contacto:"",num_telefono:"",des_email:"",des_direccion:"",ind_estado:1,fec_creacion:"",fec_modif:""})},E=()=>{p(!1),j({num_empresa:"",num_ruc:"",nom_razsocial:"",des_contacto:"",num_telefono:"",des_email:"",des_direccion:"",ind_estado:1,fec_creacion:"",fec_modif:""})},z=()=>b(!1);return(0,x.jsxs)(c.A,{fluid:!0,className:"p-0",children:[(0,x.jsx)(r.A,{children:(0,x.jsxs)(r.A.Body,{className:"p-3",children:[(0,x.jsx)(r.A.Title,{className:"mb-3",children:"Empresas"}),(0,x.jsx)(i.A,{className:"mb-3",children:(0,x.jsxs)(l.A,{xs:12,md:6,className:"d-flex align-items-center justify-content-start mb-2 mb-md-0",children:[(0,x.jsx)(o.A,{id:"agregarEmpresa",className:"mr-2",onClick:()=>_(!0),title:"Agregar",children:(0,x.jsx)("i",{className:"fa fa-plus"})}),(0,x.jsx)(d.A.Group,{className:"flex-grow-1",children:(0,x.jsx)(d.A.Control,{type:"text",placeholder:"Buscar",id:"txtBuscar",className:"rounded"})}),(0,x.jsx)(o.A,{type:"button",className:"btn btn-secondary ml-2",title:"Filtrar",children:(0,x.jsx)("i",{className:"fa fa-search"})})]})}),(0,x.jsx)("div",{className:"table-responsive",id:"tabEmpresa",children:(0,x.jsxs)(t.A,{children:[(0,x.jsx)("caption",{children:"Datatable"}),(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Opciones"}),(0,x.jsx)("th",{children:"N\xfamero de Empresa"}),(0,x.jsx)("th",{children:"RUC"}),(0,x.jsx)("th",{children:"Raz\xf3n Social"}),(0,x.jsx)("th",{children:"Contacto"}),(0,x.jsx)("th",{children:"Tel\xe9fono"}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"Direcci\xf3n"}),(0,x.jsx)("th",{children:"Estado"}),(0,x.jsx)("th",{children:"Fecha de Creaci\xf3n"}),(0,x.jsx)("th",{children:"Fecha de Modificaci\xf3n"})]})}),(0,x.jsx)("tbody",{children:e.map(((e,n)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:n+1}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"btn-group",role:"group",children:[(0,x.jsxs)(o.A,{type:"button",className:"btn btn-secondary btn-sm mb-1",title:"Editar",onClick:()=>(e=>{y(e),j({num_empresa:e.num_empresa,num_ruc:e.num_ruc,nom_razsocial:e.nom_razsocial,des_contacto:e.des_contacto,num_telefono:e.num_telefono,des_email:e.des_email,des_direccion:e.des_direccion,ind_estado:e.ind_estado,fec_creacion:e.fec_creacion,fec_modif:e.fec_modif}),p(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-pencil"})]}),(0,x.jsxs)(o.A,{type:"button",className:"btn btn-danger btn-sm mb-1 ml-1",title:"Eliminar",onClick:()=>(e=>{y(e),b(!0)})(e),children:[" ",(0,x.jsx)("i",{className:"fa fa-trash-o"})]})]})}),(0,x.jsx)("td",{children:e.num_empresa}),(0,x.jsx)("td",{children:e.num_ruc}),(0,x.jsx)("td",{children:e.nom_razsocial}),(0,x.jsx)("td",{children:e.des_contacto}),(0,x.jsx)("td",{children:e.num_telefono}),(0,x.jsx)("td",{children:e.des_email}),(0,x.jsx)("td",{children:e.des_direccion}),(0,x.jsx)("td",{children:e.ind_estado?"Activo":"Inactivo"}),(0,x.jsx)("td",{children:e.fec_creacion}),(0,x.jsx)("td",{children:e.fec_modif})]},n)))})]})})]})}),(0,x.jsxs)(m.A,{show:u,onHide:N,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Registrar Empresa"})}),(0,x.jsxs)(d.A,{id:"formRegistro",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async e=>(0,h.A)("/api/v1/configuracion/empresas","POST",e))(s),g(),N()},children:[(0,x.jsx)(m.A.Body,{children:(0,x.jsxs)(i.A,{children:[(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_ruc",children:[(0,x.jsx)(d.A.Label,{children:"N\xfamero de RUC"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_ruc",value:s.num_ruc,onChange:v,required:!0})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"nom_razsocial",children:[(0,x.jsx)(d.A.Label,{children:"Raz\xf3n Social"}),(0,x.jsx)(d.A.Control,{type:"text",name:"nom_razsocial",value:s.nom_razsocial,onChange:v,required:!0})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_contacto",children:[(0,x.jsx)(d.A.Label,{children:"Contacto"}),(0,x.jsx)(d.A.Control,{type:"text",name:"des_contacto",value:s.des_contacto,onChange:v})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_telefono",children:[(0,x.jsx)(d.A.Label,{children:"Tel\xe9fono"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_telefono",value:s.num_telefono,onChange:v})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_email",children:[(0,x.jsx)(d.A.Label,{children:"Email"}),(0,x.jsx)(d.A.Control,{type:"email",name:"des_email",value:s.des_email,onChange:v,required:!0})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_direccion",children:[(0,x.jsx)(d.A.Label,{children:"Direcci\xf3n"}),(0,x.jsx)(d.A.Control,{type:"text",name:"des_direccion",value:s.des_direccion,onChange:v})]})})]})}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(o.A,{type:"submit",variant:"outline-primary",children:"Registrar"}),(0,x.jsx)(o.A,{variant:"outline-secondary",onClick:N,children:"Cancelar"})]})]})]}),(0,x.jsxs)(m.A,{show:A,onHide:E,size:"lg",children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Editar Empresa"})}),(0,x.jsxs)(d.A,{id:"formEdicion",autoComplete:"off",onSubmit:async e=>{e.preventDefault(),await(async(e,n)=>(0,h.A)(`/api/v1/configuracion/empresas/${e}`,"PUT",n))(C.num_empresa,s),g(),E()},children:[(0,x.jsx)(m.A.Body,{children:(0,x.jsxs)(i.A,{children:[(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_ruc",children:[(0,x.jsx)(d.A.Label,{children:"N\xfamero de RUC"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_ruc",value:s.num_ruc,onChange:v,required:!0})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"nom_razsocial",children:[(0,x.jsx)(d.A.Label,{children:"Raz\xf3n Social"}),(0,x.jsx)(d.A.Control,{type:"text",name:"nom_razsocial",value:s.nom_razsocial,onChange:v,required:!0})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_contacto",children:[(0,x.jsx)(d.A.Label,{children:"Contacto"}),(0,x.jsx)(d.A.Control,{type:"text",name:"des_contacto",value:s.des_contacto,onChange:v})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"num_telefono",children:[(0,x.jsx)(d.A.Label,{children:"Tel\xe9fono"}),(0,x.jsx)(d.A.Control,{type:"text",name:"num_telefono",value:s.num_telefono,onChange:v})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_email",children:[(0,x.jsx)(d.A.Label,{children:"Email"}),(0,x.jsx)(d.A.Control,{type:"email",name:"des_email",value:s.des_email,onChange:v,required:!0})]})}),(0,x.jsx)(l.A,{md:6,className:"mb-3",children:(0,x.jsxs)(d.A.Group,{controlId:"des_direccion",children:[(0,x.jsx)(d.A.Label,{children:"Direcci\xf3n"}),(0,x.jsx)(d.A.Control,{type:"text",name:"des_direccion",value:s.des_direccion,onChange:v})]})})]})}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(o.A,{type:"submit",variant:"outline-primary",children:"Guardar Cambios"}),(0,x.jsx)(o.A,{variant:"outline-secondary",onClick:E,children:"Cancelar"})]})]})]}),(0,x.jsxs)(m.A,{show:f,onHide:z,children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Eliminar Empresa"})}),(0,x.jsxs)(m.A.Body,{children:[" \xbfEst\xe1s seguro de que deseas eliminar la empresa: ",(0,x.jsx)("strong",{children:C&&C.nom_razsocial}),"? "]}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(o.A,{variant:"danger",onClick:async()=>{await(async e=>(0,h.A)(`/api/v1/configuracion/empresas/${e}`,"DELETE"))(C.num_empresa),g(),b(!1)},children:"Eliminar"}),(0,x.jsx)(o.A,{variant:"secondary",onClick:z,children:"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=100.6adf6ed4.chunk.js.map